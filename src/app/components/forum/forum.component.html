<div class="ui sidebar blue inverted vertical menu mobileTopicsSidebar" [class.visible]="this.showForumTopicsMobileSidebar"
  [class.invisible]="!this.showForumTopicsMobileSidebar" style="top: inherit;">
  <a *ngFor="let topic of this.topics" class="item" [class.active]="topic.Active" (click)="mobileSidebarTopicSelected(topic)">
    <i class="file alternate icon"></i>{{topic.Name}}
  </a>
</div>
<div class="">
  <div class="ui blue secondary vertical pointing menu topics" [class.invisible]="this.isMobileView">
    <a *ngFor="let topic of this.topics" [id]="topic.Id" class="item" [class.active]="topic.Active" (click)="topicSelected(topic)">
      {{topic.Name}}
    </a>
  </div>
  <div class="topic content">
    <div *ngFor="let topic of this.topics" class="topicContent" [id]="topic.getTopicContentId()">
      <div *ngIf="topic.Active">
        <h2 class="ui header">
          <span class="mobile topics" *ngIf="this.isMobileView" (click)="showMobileTopics()">
            <i class="blue small content icon"></i>
          </span>

          <i class="envelope icon"></i>
          <div class="content">
            {{topic.Name}}
            <div class="sub header">{{topic.Description}}</div>
          </div>
        </h2>
        <div class="ui minimal comments" [class.isMobile]="this.isMobileView" (click)="hideMobileTopics()">
          <h3 class="ui dividing header">Comments</h3>
          <div *ngFor="let message of topicMessages" class="comment">
            <a class="avatar">
              <img [attr.src]="message.user.img">
            </a>
            <div class="content">
              <a class="author" [attr.href]="">{{message.user.name}}</a>
              <div class="metadata">
                <span class="date" [attr.title]="message.timestamp"> {{message.timestamp | date:'shortTime'}}</span>
              </div>
              <div class="text">
                <p>{{message.text}}</p>
              </div>
              <div class="actions">
                <a title="reply" class="ui mini inverted blue icon button reply">
                  <i class="reply icon"></i>
                </a>
                <a title="like">
                  <i class="green thumbs up icon"></i>
                </a>
                <a title="dislike">
                  <i class="red thumbs down icon"></i>
                </a>
              </div>
            </div>
            <div *ngIf="message.threadComments" class="comments">
              <div *ngFor="let threadedMessage of message.threadComments" class="comment">
                <a class="avatar">
                  <img [attr.src]="threadedMessage.user.img">
                </a>
                <div class="content">
                  <a class="author" [attr.href]="">{{threadedMessage.user.name}}</a>
                  <div class="metadata">
                    <span class="date" [attr.title]="threadedMessage.timestamp"> {{threadedMessage.timestamp | date:'shortTime'}}</span>
                  </div>
                  <div class="text">
                    <p>{{threadedMessage.text}}</p>
                  </div>
                  <div class="actions">
                    <a title="reply" class="ui mini inverted blue icon button reply">
                      <i class="reply icon"></i>
                    </a>
                    <a title="like">
                      <i class="green thumbs up icon"></i>
                    </a>
                    <a title="dislike">
                      <i class="red thumbs down icon"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <form class="ui reply form">
            <div class="field">
              <textarea></textarea>
            </div>
            <div class="ui blue labeled submit icon button">
              <i class="icon edit"></i> Add Reply
            </div>
          </form>
        </div>
        <!-- <div class="ui feed" [class.isMobile]="this.isMobileView" (click)="hideMobileTopics()">
          <div *ngFor="let message of topicMessages" class="event">
            <div class="label">
              <img [src]="message.user.img">
            </div>
            <div class="content">
              <div class="summary">
                <a>{{message.user.name}}</a>
                <div class="date" [title]="message.timestamp">
                  {{message.timestamp | date:'shortTime'}}
                </div>
              </div>
              <div class="extra text">{{message.text}}</div>
              <div class="meta">
                <a class="like">
                  <i class="like icon"></i> 5 Likes
                  <i class="thumbs up icon"></i> 5 Likes
                  <i class="utensils icon"></i> 5 Likes
                </a>
              </div>
            </div>
          </div>
          <textarea>lkjlkjlkj</textarea>
        </div> -->
      </div>
      <!-- <div class="ui container" style="width:85vw;">
        <div class="ui action input" style="width:100%">
          <input type="text" [(ngModel)]="newComment" placeholder="Compose your message...">
          <div class="ui button" (click)="submitComment()">Reply</div>
        </div>
      </div> -->
    </div>
  </div>
</div>